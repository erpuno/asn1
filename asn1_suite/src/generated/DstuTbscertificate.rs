// Generated by ASN1.ERP.UNO Compiler -- Rust emitter

use std::sync::Arc;
use rust_asn1::{
    asn1::ASN1Node,
    asn1_types::*,
    der::{self, DERParseable, DERSerializable, Serializer},
    errors::ASN1Error,
};

#[derive(Clone, Debug)]
pub struct DstuTbscertificate {
    pub version: DstuVersion,
    pub serial_number: ArraySlice<UInt8>,
    pub signature: DstuAlgorithmidentifier,
    pub issuer: DstuName,
    pub validity: DstuValidity,
    pub subject: DstuName,
    pub subject_public_key_info: DstuSubjectpublickeyinfo,
    pub issuer_unique_id: Option<DstuUniqueidentifier>,
    pub subject_unique_id: Option<DstuUniqueidentifier>,
    pub extensions: Option<DstuExtensions>,
}

impl DstuTbscertificate {
    pub fn new(version: DstuVersion, serial_number: ArraySlice<UInt8>, signature: DstuAlgorithmidentifier, issuer: DstuName, validity: DstuValidity, subject: DstuName, subject_public_key_info: DstuSubjectpublickeyinfo, issuer_unique_id: Option<DstuUniqueidentifier>, subject_unique_id: Option<DstuUniqueidentifier>, extensions: Option<DstuExtensions>) -> Self {
        Self {
            version,
            serial_number,
            signature,
            issuer,
            validity,
            subject,
            subject_public_key_info,
            issuer_unique_id,
            subject_unique_id,
            extensions,
        }
    }
}

impl DERParseable for DstuTbscertificate {
    fn from_der_node(node: ASN1Node) -> Result<Self, ASN1Error> {
        der::sequence(node, ASN1Identifier::SEQUENCE, |_iter| {
            todo!("DER decoding for DstuTbscertificate not yet implemented")
        })
    }
}

impl DERSerializable for DstuTbscertificate {
    fn serialize(&self, serializer: &mut Serializer) -> Result<(), ASN1Error> {
        todo!("DER serialization for DstuTbscertificate not yet implemented")
    }
}
