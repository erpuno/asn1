// Generated by ASN1.ERP.UNO Compiler, Copyright © 2023—2024 Namdak Tönpa.
import SwiftASN1
import Foundation

@usableFromInline struct SMIMESymmetricKeyDistribution_2009_GLKeyAttributes: DERImplicitlyTaggable, Sendable {
    @inlinable static var defaultIdentifier: ASN1Identifier { .sequence }
    @usableFromInline var rekeyControlledByGLO: Bool?
    @usableFromInline var recipientsNotMutuallyAware: Bool?
    @usableFromInline var duration: ArraySlice<UInt8>?
    @usableFromInline var generationCounter: ArraySlice<UInt8>?
    @usableFromInline var requestedAlgorithm: SMIMESymmetricKeyDistribution_2009_KeyWrapAlgorithm?
    @inlinable init(rekeyControlledByGLO: Bool?, recipientsNotMutuallyAware: Bool?, duration: ArraySlice<UInt8>?, generationCounter: ArraySlice<UInt8>?, requestedAlgorithm: SMIMESymmetricKeyDistribution_2009_KeyWrapAlgorithm?) {
        self.rekeyControlledByGLO = rekeyControlledByGLO
        self.recipientsNotMutuallyAware = recipientsNotMutuallyAware
        self.duration = duration
        self.generationCounter = generationCounter
        self.requestedAlgorithm = requestedAlgorithm

    }
    @inlinable init(derEncoded root: ASN1Node,
        withIdentifier identifier: ASN1Identifier) throws {
        self = try DER.sequence(root, identifier: identifier) { nodes in
            let rekeyControlledByGLO: Bool = (try DER.optionalImplicitlyTagged(&nodes, tag: ASN1Identifier(tagWithNumber: 0, tagClass: .contextSpecific)))!
            let recipientsNotMutuallyAware: Bool = (try DER.optionalImplicitlyTagged(&nodes, tag: ASN1Identifier(tagWithNumber: 1, tagClass: .contextSpecific)))!
            let duration: ArraySlice<UInt8> = (try DER.optionalImplicitlyTagged(&nodes, tag: ASN1Identifier(tagWithNumber: 2, tagClass: .contextSpecific)))!
            let generationCounter: ArraySlice<UInt8> = (try DER.optionalImplicitlyTagged(&nodes, tag: ASN1Identifier(tagWithNumber: 3, tagClass: .contextSpecific)))!
            let requestedAlgorithm: SMIMESymmetricKeyDistribution_2009_KeyWrapAlgorithm = (try DER.optionalImplicitlyTagged(&nodes, tag: ASN1Identifier(tagWithNumber: 4, tagClass: .contextSpecific)))!

            return SMIMESymmetricKeyDistribution_2009_GLKeyAttributes(rekeyControlledByGLO: rekeyControlledByGLO, recipientsNotMutuallyAware: recipientsNotMutuallyAware, duration: duration, generationCounter: generationCounter, requestedAlgorithm: requestedAlgorithm)
        }
    }
    @inlinable func serialize(into coder: inout DER.Serializer,
        withIdentifier identifier: ASN1Identifier) throws {
        try coder.appendConstructedNode(identifier: identifier) { coder in
            if let rekeyControlledByGLO = self.rekeyControlledByGLO { try coder.serializeOptionalImplicitlyTagged(rekeyControlledByGLO, withIdentifier: ASN1Identifier(tagWithNumber: 0, tagClass: .contextSpecific)) }
            if let recipientsNotMutuallyAware = self.recipientsNotMutuallyAware { try coder.serializeOptionalImplicitlyTagged(recipientsNotMutuallyAware, withIdentifier: ASN1Identifier(tagWithNumber: 1, tagClass: .contextSpecific)) }
            if let duration = self.duration { try coder.serializeOptionalImplicitlyTagged(duration, withIdentifier: ASN1Identifier(tagWithNumber: 2, tagClass: .contextSpecific)) }
            if let generationCounter = self.generationCounter { try coder.serializeOptionalImplicitlyTagged(generationCounter, withIdentifier: ASN1Identifier(tagWithNumber: 3, tagClass: .contextSpecific)) }
            if let requestedAlgorithm = self.requestedAlgorithm { try coder.serializeOptionalImplicitlyTagged(requestedAlgorithm, withIdentifier: ASN1Identifier(tagWithNumber: 4, tagClass: .contextSpecific)) }

        }
    }
}
