// Generated by ASN1.ERP.UNO Compiler, Copyright © 2023—2024 Namdak Tönpa.
import SwiftASN1
import Foundation

@usableFromInline struct PKIXCMP_2009_PKIHeader: DERImplicitlyTaggable, Hashable, Sendable {
    @inlinable static var defaultIdentifier: ASN1Identifier { .sequence }
    @usableFromInline var pvno: PKIXCMP_2009_PKIHeader_pvno_IntEnum
    @usableFromInline var sender: PKIX1Implicit88_GeneralName
    @usableFromInline var recipient: PKIX1Implicit88_GeneralName
    @usableFromInline var messageTime: GeneralizedTime?
    @usableFromInline var protectionAlg: PKIX1Explicit88_AlgorithmIdentifier?
    @usableFromInline var senderKID: PKIX1Implicit88_KeyIdentifier?
    @usableFromInline var recipKID: PKIX1Implicit88_KeyIdentifier?
    @usableFromInline var transactionID: ASN1OctetString?
    @usableFromInline var senderNonce: ASN1OctetString?
    @usableFromInline var recipNonce: ASN1OctetString?
    @usableFromInline var freeText: PKIXCMP_2009_PKIFreeText?
    @usableFromInline var generalInfo: [PKIXCMP_2009_InfoTypeAndValue]?
    @inlinable init(pvno: PKIXCMP_2009_PKIHeader_pvno_IntEnum, sender: PKIX1Implicit88_GeneralName, recipient: PKIX1Implicit88_GeneralName, messageTime: GeneralizedTime?, protectionAlg: PKIX1Explicit88_AlgorithmIdentifier?, senderKID: PKIX1Implicit88_KeyIdentifier?, recipKID: PKIX1Implicit88_KeyIdentifier?, transactionID: ASN1OctetString?, senderNonce: ASN1OctetString?, recipNonce: ASN1OctetString?, freeText: PKIXCMP_2009_PKIFreeText?, generalInfo: [PKIXCMP_2009_InfoTypeAndValue]?) {
        self.pvno = pvno
        self.sender = sender
        self.recipient = recipient
        self.messageTime = messageTime
        self.protectionAlg = protectionAlg
        self.senderKID = senderKID
        self.recipKID = recipKID
        self.transactionID = transactionID
        self.senderNonce = senderNonce
        self.recipNonce = recipNonce
        self.freeText = freeText
        self.generalInfo = generalInfo
    }
    @inlinable init(derEncoded root: ASN1Node,
        withIdentifier identifier: ASN1Identifier) throws {
        self = try DER.sequence(root, identifier: identifier) { nodes in
            let pvno = try PKIXCMP_2009_PKIHeader_pvno_IntEnum(rawValue: Int(derEncoded: &nodes))
            let sender: PKIX1Implicit88_GeneralName = try PKIX1Implicit88_GeneralName(derEncoded: &nodes)
            let recipient: PKIX1Implicit88_GeneralName = try PKIX1Implicit88_GeneralName(derEncoded: &nodes)
            let messageTime: GeneralizedTime? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 0, tagClass: .contextSpecific) { node in return try GeneralizedTime(derEncoded: node) }
            let protectionAlg: PKIX1Explicit88_AlgorithmIdentifier? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 1, tagClass: .contextSpecific) { node in return try PKIX1Explicit88_AlgorithmIdentifier(derEncoded: node) }
            let senderKID: PKIX1Implicit88_KeyIdentifier? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 2, tagClass: .contextSpecific) { node in return try PKIX1Implicit88_KeyIdentifier(derEncoded: node) }
            let recipKID: PKIX1Implicit88_KeyIdentifier? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 3, tagClass: .contextSpecific) { node in return try PKIX1Implicit88_KeyIdentifier(derEncoded: node) }
            let transactionID: ASN1OctetString? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 4, tagClass: .contextSpecific) { node in return try ASN1OctetString(derEncoded: node) }
            let senderNonce: ASN1OctetString? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 5, tagClass: .contextSpecific) { node in return try ASN1OctetString(derEncoded: node) }
            let recipNonce: ASN1OctetString? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 6, tagClass: .contextSpecific) { node in return try ASN1OctetString(derEncoded: node) }
            let freeText: PKIXCMP_2009_PKIFreeText? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 7, tagClass: .contextSpecific) { node in return try PKIXCMP_2009_PKIFreeText(derEncoded: node) }
            let generalInfo: [PKIXCMP_2009_InfoTypeAndValue]? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 8, tagClass: .contextSpecific) { node in try DER.sequence(of: PKIXCMP_2009_InfoTypeAndValue.self, identifier: .sequence, rootNode: node) }
            return PKIXCMP_2009_PKIHeader(pvno: pvno, sender: sender, recipient: recipient, messageTime: messageTime, protectionAlg: protectionAlg, senderKID: senderKID, recipKID: recipKID, transactionID: transactionID, senderNonce: senderNonce, recipNonce: recipNonce, freeText: freeText, generalInfo: generalInfo)
        }
    }
    @inlinable func serialize(into coder: inout DER.Serializer,
        withIdentifier identifier: ASN1Identifier) throws {
        try coder.appendConstructedNode(identifier: identifier) { coder in
            try coder.serialize(pvno.rawValue)
            try coder.serialize(sender)
            try coder.serialize(recipient)
            if let messageTime = self.messageTime { if let messageTime = self.messageTime { try coder.serialize(explicitlyTaggedWithTagNumber: 0, tagClass: .contextSpecific) { codec in try codec.serialize(messageTime) } } }
            if let protectionAlg = self.protectionAlg { if let protectionAlg = self.protectionAlg { try coder.serialize(explicitlyTaggedWithTagNumber: 1, tagClass: .contextSpecific) { codec in try codec.serialize(protectionAlg) } } }
            if let senderKID = self.senderKID { if let senderKID = self.senderKID { try coder.serialize(explicitlyTaggedWithTagNumber: 2, tagClass: .contextSpecific) { codec in try codec.serialize(senderKID) } } }
            if let recipKID = self.recipKID { if let recipKID = self.recipKID { try coder.serialize(explicitlyTaggedWithTagNumber: 3, tagClass: .contextSpecific) { codec in try codec.serialize(recipKID) } } }
            if let transactionID = self.transactionID { if let transactionID = self.transactionID { try coder.serialize(explicitlyTaggedWithTagNumber: 4, tagClass: .contextSpecific) { codec in try codec.serialize(transactionID) } } }
            if let senderNonce = self.senderNonce { if let senderNonce = self.senderNonce { try coder.serialize(explicitlyTaggedWithTagNumber: 5, tagClass: .contextSpecific) { codec in try codec.serialize(senderNonce) } } }
            if let recipNonce = self.recipNonce { if let recipNonce = self.recipNonce { try coder.serialize(explicitlyTaggedWithTagNumber: 6, tagClass: .contextSpecific) { codec in try codec.serialize(recipNonce) } } }
            if let freeText = self.freeText { if let freeText = self.freeText { try coder.serialize(explicitlyTaggedWithTagNumber: 7, tagClass: .contextSpecific) { codec in try codec.serialize(freeText) } } }
            if let generalInfo = self.generalInfo { if let generalInfo = self.generalInfo { try coder.serialize(explicitlyTaggedWithTagNumber: 8, tagClass: .contextSpecific) { codec in try codec.serializeSequenceOf(generalInfo) } } }
        }
    }
}
