// Generated by ASN1.ERP.UNO Compiler, Copyright © 2023—2024 Namdak Tönpa.
import SwiftASN1
import Foundation

@usableFromInline struct DirectoryAbstractService_EntryInformationSelection: DERImplicitlyTaggable, Hashable, Sendable {
    @inlinable static var defaultIdentifier: ASN1Identifier { .set }
    @usableFromInline var attributes: DirectoryAbstractService_EntryInformationSelection_attributes_Choice?
    @usableFromInline var infoTypes: DirectoryAbstractService_EntryInformationSelection_infoTypes_IntEnum?
    @usableFromInline var extraAttributes: DirectoryAbstractService_EntryInformationSelection_extraAttributes_Choice?
    @usableFromInline var contextSelection: DirectoryAbstractService_ContextSelection?
    @usableFromInline var returnContexts: Bool?
    @usableFromInline var familyReturn: DirectoryAbstractService_FamilyReturn?
    @inlinable init(attributes: DirectoryAbstractService_EntryInformationSelection_attributes_Choice?, infoTypes: DirectoryAbstractService_EntryInformationSelection_infoTypes_IntEnum?, extraAttributes: DirectoryAbstractService_EntryInformationSelection_extraAttributes_Choice?, contextSelection: DirectoryAbstractService_ContextSelection?, returnContexts: Bool?, familyReturn: DirectoryAbstractService_FamilyReturn?) {
        self.attributes = attributes
        self.infoTypes = infoTypes
        self.extraAttributes = extraAttributes
        self.contextSelection = contextSelection
        self.returnContexts = returnContexts
        self.familyReturn = familyReturn
    }
    @inlinable init(derEncoded root: ASN1Node,
        withIdentifier identifier: ASN1Identifier) throws {
        self = try DER.set(root, identifier: identifier) { nodes in
            let attributes: DirectoryAbstractService_EntryInformationSelection_attributes_Choice? = try DirectoryAbstractService_EntryInformationSelection_attributes_Choice(derEncoded: &nodes)
            let infoTypes = try DirectoryAbstractService_EntryInformationSelection_infoTypes_IntEnum(rawValue: Int(derEncoded: &nodes))
            var extraAttributes: DirectoryAbstractService_EntryInformationSelection_extraAttributes_Choice? = nil
var peek_extraAttributes = nodes
if let next = peek_extraAttributes.next(), next.identifier == DirectoryAbstractService_EntryInformationSelection_extraAttributes_Choice.defaultIdentifier {
    extraAttributes = try DirectoryAbstractService_EntryInformationSelection_extraAttributes_Choice(derEncoded: &nodes)
}
            var contextSelection: DirectoryAbstractService_ContextSelection? = nil
var peek_contextSelection = nodes
if let next = peek_contextSelection.next(), next.identifier == DirectoryAbstractService_ContextSelection.defaultIdentifier {
    contextSelection = try DirectoryAbstractService_ContextSelection(derEncoded: &nodes)
}
            let returnContexts: Bool = try DER.decodeDefault(&nodes, defaultValue: false)
            let familyReturn: DirectoryAbstractService_FamilyReturn? = try DirectoryAbstractService_FamilyReturn(derEncoded: &nodes)
            return DirectoryAbstractService_EntryInformationSelection(attributes: attributes, infoTypes: infoTypes, extraAttributes: extraAttributes, contextSelection: contextSelection, returnContexts: returnContexts, familyReturn: familyReturn)
        }
    }
    @inlinable func serialize(into coder: inout DER.Serializer,
        withIdentifier identifier: ASN1Identifier) throws {
        try coder.appendConstructedNode(identifier: identifier) { coder in
            if let attributes = self.attributes { if let attributes = self.attributes { try coder.serialize(attributes) } }
            if let infoTypes = self.infoTypes { try coder.serialize(infoTypes.rawValue, explicitlyTaggedWithTagNumber: 2, tagClass: .contextSpecific) }
            if let extraAttributes = self.extraAttributes { if let extraAttributes = self.extraAttributes { try coder.serialize(extraAttributes) } }
            if let contextSelection = self.contextSelection { if let contextSelection = self.contextSelection { try coder.serialize(contextSelection) } }
            if let returnContexts = self.returnContexts { if let returnContexts = self.returnContexts { try coder.serialize(returnContexts) } }
            if let familyReturn = self.familyReturn { if let familyReturn = self.familyReturn { try coder.serialize(familyReturn) } }
        }
    }
}
