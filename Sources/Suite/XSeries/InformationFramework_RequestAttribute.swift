// Generated by ASN1.ERP.UNO Compiler, Copyright © 2023—2024 Namdak Tönpa.
import SwiftASN1
import Foundation

@usableFromInline struct InformationFramework_RequestAttribute: DERImplicitlyTaggable, Sendable {
    @inlinable static var defaultIdentifier: ASN1Identifier { .sequence }
    @usableFromInline var attributeType: ASN1ObjectIdentifier
    @usableFromInline var includeSubtypes: Bool?
    @usableFromInline var selectedValues: [ASN1Any]?
    @usableFromInline var defaultValues: [InformationFramework_RequestAttribute_defaultValues_Sequence]?
    @usableFromInline var contexts: [InformationFramework_ContextProfile]?
    @usableFromInline var contextCombination: InformationFramework_ContextCombination?
    @usableFromInline var matchingUse: [InformationFramework_MatchingUse]?
    @inlinable init(attributeType: ASN1ObjectIdentifier, includeSubtypes: Bool?, selectedValues: [ASN1Any]?, defaultValues: [InformationFramework_RequestAttribute_defaultValues_Sequence]?, contexts: [InformationFramework_ContextProfile]?, contextCombination: InformationFramework_ContextCombination?, matchingUse: [InformationFramework_MatchingUse]?) {
        self.attributeType = attributeType
        self.includeSubtypes = includeSubtypes
        self.selectedValues = selectedValues
        self.defaultValues = defaultValues
        self.contexts = contexts
        self.contextCombination = contextCombination
        self.matchingUse = matchingUse

    }
    @inlinable init(derEncoded root: ASN1Node,
        withIdentifier identifier: ASN1Identifier) throws {
        self = try DER.sequence(root, identifier: identifier) { nodes in
            let attributeType: ASN1ObjectIdentifier = try ASN1ObjectIdentifier(derEncoded: &nodes)
            let includeSubtypes: Bool = try DER.explicitlyTagged(&nodes, tagNumber: 0, tagClass: .contextSpecific) { node in return try Bool(derEncoded: node) }
            let selectedValues: [ASN1Any]? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 1, tagClass: .contextSpecific) { node in try DER.sequence(of: ASN1Any.self, identifier: .sequence, rootNode: node) }
            let defaultValues: [InformationFramework_RequestAttribute_defaultValues_Sequence]? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 2, tagClass: .contextSpecific) { node in try DER.sequence(of: InformationFramework_RequestAttribute_defaultValues_Sequence.self, identifier: .sequence, rootNode: node) }
            let contexts: [InformationFramework_ContextProfile]? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 3, tagClass: .contextSpecific) { node in try DER.sequence(of: InformationFramework_ContextProfile.self, identifier: .sequence, rootNode: node) }
            let contextCombination: InformationFramework_ContextCombination = try DER.explicitlyTagged(&nodes, tagNumber: 4, tagClass: .contextSpecific) { node in return try InformationFramework_ContextCombination(derEncoded: node) }
            let matchingUse: [InformationFramework_MatchingUse]? = try DER.optionalExplicitlyTagged(&nodes, tagNumber: 5, tagClass: .contextSpecific) { node in try DER.sequence(of: InformationFramework_MatchingUse.self, identifier: .sequence, rootNode: node) }

            return InformationFramework_RequestAttribute(attributeType: attributeType, includeSubtypes: includeSubtypes, selectedValues: selectedValues, defaultValues: defaultValues, contexts: contexts, contextCombination: contextCombination, matchingUse: matchingUse)
        }
    }
    @inlinable func serialize(into coder: inout DER.Serializer,
        withIdentifier identifier: ASN1Identifier) throws {
        try coder.appendConstructedNode(identifier: identifier) { coder in
            try coder.serialize(attributeType)
            if let includeSubtypes = self.includeSubtypes { try coder.serialize(explicitlyTaggedWithTagNumber: 0, tagClass: .contextSpecific) { codec in try codec.serialize(includeSubtypes) } }
            if let selectedValues = self.selectedValues { try coder.serialize(explicitlyTaggedWithTagNumber: 1, tagClass: .contextSpecific) { codec in try codec.serializeSequenceOf(selectedValues) } }
            if let defaultValues = self.defaultValues { try coder.serialize(explicitlyTaggedWithTagNumber: 2, tagClass: .contextSpecific) { codec in try codec.serializeSequenceOf(defaultValues) } }
            if let contexts = self.contexts { try coder.serialize(explicitlyTaggedWithTagNumber: 3, tagClass: .contextSpecific) { codec in try codec.serializeSequenceOf(contexts) } }
            if let contextCombination = self.contextCombination { try coder.serialize(explicitlyTaggedWithTagNumber: 4, tagClass: .contextSpecific) { codec in try codec.serialize(contextCombination) } }
            if let matchingUse = self.matchingUse { try coder.serialize(explicitlyTaggedWithTagNumber: 5, tagClass: .contextSpecific) { codec in try codec.serializeSequenceOf(matchingUse) } }

        }
    }
}
