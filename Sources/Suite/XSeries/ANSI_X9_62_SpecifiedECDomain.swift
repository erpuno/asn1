// Generated by ASN1.ERP.UNO Compiler, Copyright © 2023—2024 Namdak Tönpa.
import SwiftASN1
import Foundation

@usableFromInline struct ANSI_X9_62_SpecifiedECDomain: DERImplicitlyTaggable, Sendable {
    @inlinable static var defaultIdentifier: ASN1Identifier { .sequence }
    @usableFromInline var version: ANSI_X9_62_SpecifiedECDomainVersion
    @usableFromInline var fieldID: ASN1Any
    @usableFromInline var curve: ANSI_X9_62_Curve
    @usableFromInline var base: ANSI_X9_62_ECPoint
    @usableFromInline var order: ArraySlice<UInt8>
    @usableFromInline var cofactor: ArraySlice<UInt8>?
    @usableFromInline var hash: ANSI_X9_62_HashAlgorithm?
    @inlinable init(version: ANSI_X9_62_SpecifiedECDomainVersion, fieldID: ASN1Any, curve: ANSI_X9_62_Curve, base: ANSI_X9_62_ECPoint, order: ArraySlice<UInt8>, cofactor: ArraySlice<UInt8>?, hash: ANSI_X9_62_HashAlgorithm?) {
        self.version = version
        self.fieldID = fieldID
        self.curve = curve
        self.base = base
        self.order = order
        self.cofactor = cofactor
        self.hash = hash

    }
    @inlinable init(derEncoded root: ASN1Node,
        withIdentifier identifier: ASN1Identifier) throws {
        self = try DER.sequence(root, identifier: identifier) { nodes in
            let version: ANSI_X9_62_SpecifiedECDomainVersion = try ANSI_X9_62_SpecifiedECDomainVersion(derEncoded: &nodes)
            let fieldID: ASN1Any = try ASN1Any(derEncoded: &nodes)
            let curve: ANSI_X9_62_Curve = try ANSI_X9_62_Curve(derEncoded: &nodes)
            let base: ANSI_X9_62_ECPoint = try ANSI_X9_62_ECPoint(derEncoded: &nodes)
            let order: ArraySlice<UInt8> = try ArraySlice<UInt8>(derEncoded: &nodes)
            var cofactor: ArraySlice<UInt8>? = nil
var peek_cofactor = nodes
if let next = peek_cofactor.next(), next.identifier == ArraySlice<UInt8>.defaultIdentifier {
    cofactor = try ArraySlice<UInt8>(derEncoded: &nodes)
}
            var hash: ANSI_X9_62_HashAlgorithm? = nil
var peek_hash = nodes
if let next = peek_hash.next(), next.identifier == ANSI_X9_62_HashAlgorithm.defaultIdentifier {
    hash = try ANSI_X9_62_HashAlgorithm(derEncoded: &nodes)
}

            return ANSI_X9_62_SpecifiedECDomain(version: version, fieldID: fieldID, curve: curve, base: base, order: order, cofactor: cofactor, hash: hash)
        }
    }
    @inlinable func serialize(into coder: inout DER.Serializer,
        withIdentifier identifier: ASN1Identifier) throws {
        try coder.appendConstructedNode(identifier: identifier) { coder in
            try coder.serialize(version)
            try coder.serialize(fieldID)
            try coder.serialize(curve)
            try coder.serialize(base)
            try coder.serialize(order)
            if let cofactor = self.cofactor { try coder.serialize(cofactor) }
            if let hash = self.hash { try coder.serialize(hash) }

        }
    }
}
